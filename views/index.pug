doctype html
html
  head
    title Chatbot Interface
    link(rel='stylesheet', href='/styles.css')
  body
    .main-container
      .sidebar
        h2 Prompts
        each prompt in prompts
          button.prompt-button(type='button')= prompt
      .content
        .chat-container
          .chat-box
            p#messages Chat history will appear here...
          form#chatForm(action='/api/chatbot/message', method='post')
            input(type='text', name='message', id='userMessage', placeholder='Type your message hereâ€¦')
            button(type='submit') Send

    script.
      // Handle message form submit
      document.querySelector("#chatForm").addEventListener("submit", async (e) => {
        e.preventDefault();
        const userMessage = document.querySelector("#userMessage").value;
        if (userMessage.trim()) {
          const response = await fetch('/api/chatbot/message', {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({ message: userMessage })
          });
          const data = await response.json();
          document.querySelector("#messages").innerHTML += `<p><strong>You:</strong> ${userMessage}</p>`;
          document.querySelector("#messages").innerHTML += `<p><strong>Bot:</strong> ${data.message}</p>`;
          document.querySelector("#userMessage").value = '';
        }
      });

      // Handle prompt button clicks
      document.querySelectorAll('.prompt-button').forEach(button => {
        button.addEventListener('click', async () => {
          const userMessage = button.innerText;
          const response = await fetch('/api/chatbot/message', {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({ message: userMessage })
          });
          const data = await response.json();
          document.querySelector("#messages").innerHTML += `<p><strong>You:</strong> ${userMessage}</p>`;
          document.querySelector("#messages").innerHTML += `<p><strong>Bot:</strong> ${data.message}</p>`;
        });
      });
